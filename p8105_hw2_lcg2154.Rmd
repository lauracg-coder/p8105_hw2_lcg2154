---
title: "Homework 2"
author: Laura Gomez
output: github_document
---


```{r setup}
library(tidyverse)
library(readxl)

```

## Problem 1

Read the Mr. Trashwheel dataset.

```{r}
trashwheel_df =
  read_xlsx(
    "./Data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = "Mr. Trash Wheel",
  range = cell_cols("A:N")) %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  mutate(
    sports_balls = round(sports_balls), 
  sports_balls = as.integer(sports_balls)
  )
```

Read in precipiation data! For 2018 and 2017

```{r}
precip_2018 =
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
    sheet = "2018 Precipitation",
    skip = 1
  ) %>%
  janitor::clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2018) %>%
  relocate(year)

precip_2017 =
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
    sheet = "2017 Precipitation",
    skip = 1
  ) %>%
  janitor::clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2017) %>%
  relocate(year)
```

Now combine annual precipitation. 

```{r}
month_df =
  tibble(
    month = 1:12,
    month_name = month.name
  )

precip_df =
  bind_rows(precip_2018 , precip_2017)

left_join(precip_df, month_df, by = "month")
```

This dataset contains information from the Mr.Trashwheel trash collector in Baltimore, Maryland. As trash enters the inner harbor, the trashwheel collects that trash, and stores it in a dumpster. The dataset contains information on year, month, and trash collected, including some specific kinds of trash. There are a total of `r nrow(trashwheel_df)` rows in our final dataset. Additional data sheers include month precipitation data. 

## Problem 2

Read the NYC Transit data. 

```{r}
library(tidyverse)
nyc_transit_df = 
  read_csv(
    ("./Data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv")) %>%
  janitor::clean_names() 
```
Clean the dataset to include line, station, name, station latitude / longitude, routes served, entry, vending, entrance type, and ADA compliance.Convert the entry variable from a character to a logical variable. 

```{r nyc_clean_transit_df}

nyc_clean_transit_df = 
  select(nyc_transit_df, line:vending, ada, -exit_only) %>% drop_na(entry) %>% drop_na(vending) %>%
  mutate(entry = recode(entry, 'YES' = TRUE, 'NO' = FALSE), vending = recode(vending, 'YES' = TRUE, 'NO' =   FALSE))
```

This dataset contains information information related to each entrance and exit for each subway station in NYC. We cleaned and selected for the data to include `r ls(nyc_clean_transit_df)` and removed repeated objects.We converted the data in the **entry** and **vending** to a logical character. There are a total of `r nrow(nyc_clean_transit_df)` rows and `r ncol(nyc_clean_transit_df)` columns in our final dataset. 

Are these data tidy?


How many distinct stations are there? Note that stations are identified both by name and by line (e.g. 125th St A/B/C/D; 125st 1; 125st 4/5); the distinct function may be useful here.
How many stations are ADA compliant?
What proportion of station entrances / exits without vending allow entrance?
Reformat data so that route number and route name are distinct variables. How many distinct stations serve the A train? Of the stations that serve the A train, how many are ADA compliant?
```{r}
#How many distinct stations are there?
#nyc_clean_transit_df %>% group_by(station_name) %>% distinct(nyc_clean_transit_df, station_name, keep_all = FALSE)
#How many stations are ADA compliant?
#What proportion of station entrances / exits without vending allow entrance?

```


## Problem 3

Clean the data in pols-month.csv

```{r pols_month_df}
pols_month_df = 
  read_csv(
    ("./Data/fivethirtyeight_datasets/pols-month.csv")) %>%
  janitor::clean_names() %>% separate(mon, c("year","month", "day")) %>%
  mutate( president = prez_dem + prez_gop ) %>% select(-prez_dem,-prez_gop, -day) %>% 
  relocate( "year", "month")
# replace month number with month name 
```

Clean the data in snp.csv,arrange according to year and month, and organize so that year and month are the leading columns.
```{r snp_df}
snp_df = 
  read_csv(
    ("./Data/fivethirtyeight_datasets/snp.csv")) %>%
  janitor::clean_names() %>% separate(date, c("month", "day", "year")) %>% 
  relocate( "year", "month")

##Drop day??
```



